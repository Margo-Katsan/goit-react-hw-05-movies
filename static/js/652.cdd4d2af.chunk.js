"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[652],{1687:function(e,t,n){n.d(t,{Mc:function(){return l},PY:function(){return u},ix:function(){return m},mo:function(){return f},mv:function(){return p}});var r=n(5861),a=n(4687),s=n.n(a),c=n(1243);c.Z.defaults.baseURL="https://api.themoviedb.org/3/";var o="7564da9cb4db78373a8a5889a287f543",i="en-US",u=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("trending/movie/day?api_key=".concat(o,"&language=").concat(i,"&page=").concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"?api_key=").concat(o,"&language=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,r.Z)(s().mark((function e(t,n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("search/movie?api_key=".concat(o,"&query=").concat(t,"&include_adult=true&language=").concat(i,"&page=").concat(n));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),m=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/credits?api_key=").concat(o,"&language=").concat(i));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(s().mark((function e(t){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Z.get("movie/".concat(t,"/reviews?api_key=").concat(o,"&language=").concat(i,"&page=1"));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},9894:function(e,t,n){n.d(t,{z:function(){return s}});var r="Button_button__wiIYs",a=n(184),s=function(e){var t=e.onLoadMore;return(0,a.jsx)("button",{type:"button",onClick:t,className:r,children:"Load more"})}},2101:function(e,t,n){n.d(t,{O:function(){return g}});var r=n(7689),a=n(1087),s=n(6355),c=n(7804),o="MovieListItem_title__Q3l1Y",i="MovieListItem_poster__oLpFL",u="MovieListItem_info__kObmM",l="MovieListItem_default__2cBT5",p="MovieListItem_defaultImage__Zt-y1",m=n(184),f=function(e){var t=e.movieData,n=t.title,r=t.poster_path,a=t.vote_average,f=t.vote_count;return(0,m.jsxs)(m.Fragment,{children:[r?(0,m.jsx)("img",{className:i,src:"https://image.tmdb.org/t/p/w500/".concat(r),width:200,alt:"poster"}):(0,m.jsx)("div",{className:l,children:(0,m.jsx)(s.H3h,{size:150,className:p})}),(0,m.jsxs)("div",{className:u,children:[(0,m.jsx)("h3",{className:o,children:n}),(0,m.jsx)(c.T,{rating:a,votes:f})]})]})},d="MoviesList_container__0JGj2",v="MoviesList_list__0Owr9",h="MoviesList_link__8rTGX",_="MoviesList_listItem__LULLo",g=function(e){var t=e.moviesList,n=e.page,s=(0,r.TH)();return(0,m.jsx)("div",{className:d,children:(0,m.jsx)("ul",{className:v,children:t.map((function(e){return(0,m.jsxs)("li",{className:_,children:["/movies"===n&&(0,m.jsx)(a.OL,{className:h,to:"".concat(e.id),state:{from:s},children:(0,m.jsx)(f,{movieData:e})}),"/"===n&&(0,m.jsx)(a.OL,{className:h,to:"/movies/".concat(e.id),state:{from:s},children:(0,m.jsx)(f,{movieData:e})})]},e.id)}))})})}},7804:function(e,t,n){n.d(t,{T:function(){return i}});var r=n(566),a="RatingStars_container__A2vAx",s="RatingStars_number__6yR8J",c="RatingStars_votes__KAhEE",o=n(184),i=function(e){var t=e.rating,n=e.votes;return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:a,children:[(0,o.jsx)(r.Z,{name:"customized-10",defaultValue:t,max:10,precision:.1,readOnly:!0}),(0,o.jsx)("span",{className:s,children:t.toFixed(1)})]}),n&&(0,o.jsxs)("span",{className:c,children:["(",n,")"]})]})}},2652:function(e,t,n){n.r(t),n.d(t,{default:function(){return k}});var r=n(5861),a=n(9439),s=n(4687),c=n.n(s),o=n(2791),i=n(7689),u=n(1087),l=n(8438),p=(n(5462),n(8014)),m="SearchBar_searchbar__xBucJ",f="SearchBar_form__gW7Gj",d="SearchBar_button__T7RTc",v="SearchBar_icon__EfDZn",h="SearchBar_input__bIy50",_=n(184),g=function(e){var t=e.onChangeQuery;return(0,_.jsx)("div",{className:m,children:(0,_.jsxs)("form",{className:f,onSubmit:function(e){e.preventDefault(),t(e.target.elements.query.value),e.target.reset()},children:[(0,_.jsx)("input",{className:h,type:"text",name:"query",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"}),(0,_.jsx)("button",{type:"submit",className:d,children:(0,_.jsx)(p.sYI,{className:v,size:30,color:"#660000"})})]})})},x=n(4926),j=n(2101),y=n(9894),b=n(1687),k=function(){var e,t,n=(0,i.TH)(),s=(0,u.lr)(),p=(0,a.Z)(s,2),m=p[0],f=p[1],d=(0,o.useState)([]),v=(0,a.Z)(d,2),h=v[0],k=v[1],w=(0,o.useState)(!1),L=(0,a.Z)(w,2),N=L[0],Z=L[1],S=(0,o.useState)(!1),M=(0,a.Z)(S,2),I=M[0],B=M[1],O=null!==(e=m.get("query"))&&void 0!==e?e:"",T=m.get(null!==(t="page")?t:1);(0,o.useEffect)((function(){function e(){return(e=(0,r.Z)(c().mark((function e(){var t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==O){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,B(!0),e.next=6,(0,b.mv)(O,T);case 6:t=e.sent,k((function(e){return e.concat(t.results)})),B(!1),Z(!0),0===t.total_results&&l.Am.warn("Sorry, there are no images matching your search query. Please try again.",{position:"top-center",theme:"dark",hideProgressBar:!0}),t.results.length!==t.total_results&&0!==t.total_results||Z(!1),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(2),l.Am.error("Oops! Something went wrong!",{position:"top-center",theme:"dark",hideProgressBar:!0});case 17:case"end":return e.stop()}}),e,null,[[2,14]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[O,T]);return(0,_.jsxs)(_.Fragment,{children:[(0,_.jsx)(g,{onChangeQuery:function(e){""===e?(l.Am.warn("You didn't enter anything into the search engine",{position:"top-center",theme:"dark",hideProgressBar:!0}),f({}),Z(!1)):f({query:e,page:1}),k([])}}),I&&(0,_.jsx)(x.g,{}),(0,_.jsx)(j.O,{moviesList:h,page:"".concat(n.pathname)}),N&&(0,_.jsx)(y.z,{onLoadMore:function(){f({query:O,page:parseInt(T)+1})}}),(0,_.jsx)(l.Ix,{})]})}}}]);
//# sourceMappingURL=652.cdd4d2af.chunk.js.map