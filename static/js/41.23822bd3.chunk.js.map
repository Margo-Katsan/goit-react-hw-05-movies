{"version":3,"file":"static/js/41.23822bd3.chunk.js","mappings":"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","sources":["api.js","webpack://react-homework-template/./src/components/Button/Button.module.css?ce6f","components/Button/Button.jsx","webpack://react-homework-template/./src/components/MovieListItem/MovieListItem.module.css?83b7","components/MovieListItem/MovieListItem.jsx","webpack://react-homework-template/./src/components/MoviesList/MoviesList.module.css?de3d","components/MoviesList/MoviesList.jsx","webpack://react-homework-template/./src/components/RatingStars/RatingStars.module.css?1807","components/RatingStars/RatingStars.jsx","webpack://react-homework-template/./src/components/Caption/Caption.module.css?1461","components/Caption/Caption.jsx","pages/Home.jsx"],"sourcesContent":["import axios from 'axios';\naxios.defaults.baseURL = 'https://api.themoviedb.org/3/';\nconst KEY = '7564da9cb4db78373a8a5889a287f543';\nconst LANGUAGE = 'en-US';\n\nexport const fetchTrends = async page => {\n  const response = await axios.get(`trending/movie/day?api_key=${KEY}&language=${LANGUAGE}&page=${page}`);\n  return response.data;\n}\n\nexport const fetchMovieById = async movieId => {\n  const response = await axios.get(`movie/${movieId}?api_key=${KEY}&language=${LANGUAGE}`);\n  return response.data\n}\n\nexport const fetchMovieByQuery = async (movieQuery, page) => {\n  const response = await axios.get(`search/movie?api_key=${KEY}&query=${movieQuery}&include_adult=true&language=${LANGUAGE}&page=${page}`);\n  return response.data;\n}\n\nexport const fetchCastByMovieId = async movieId => {\n  const response = await axios.get(`movie/${movieId}/credits?api_key=${KEY}&language=${LANGUAGE}`);\n  return response.data;\n}\n\nexport const fetchReviewsByMovieId = async movieId => {\n  const response = await axios.get(`movie/${movieId}/reviews?api_key=${KEY}&language=${LANGUAGE}&page=1`);\n  return response.data;\n}","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Button_button__wiIYs\"};","import css from \"./Button.module.css\";\n\nexport const Button = ({ onLoadMore }) => {\n  return <button type=\"button\" onClick={onLoadMore} className={css.button}>Load more</button>\n}","// extracted by mini-css-extract-plugin\nexport default {\"title\":\"MovieListItem_title__Q3l1Y\",\"poster\":\"MovieListItem_poster__oLpFL\",\"info\":\"MovieListItem_info__kObmM\",\"default\":\"MovieListItem_default__2cBT5\",\"defaultImage\":\"MovieListItem_defaultImage__Zt-y1\"};","import { FaImage } from \"react-icons/fa\";\nimport { RatingStars } from \"components/RatingStars/RatingStars\";\nimport css from \"./MovieListItem.module.css\"\n\nexport const MovieListItem = ({ movieData }) => {\n  const { title, poster_path: imageUrl, vote_average: rating, vote_count: votes } = movieData;\n  \n  return (\n    <>\n      {imageUrl ? (\n        <img className={css.poster} src={`https://image.tmdb.org/t/p/w500/${imageUrl}`} width={200} alt=\"poster\"/>\n      ) : (\n        <div className={css.default}>\n          <FaImage size={150} className={css.defaultImage} />\n        </div>\n      )}\n      <div className={css.info}>\n        <h3 className={css.title}>{title}</h3>\n        <RatingStars rating={rating} votes={votes} />\n      </div>\n    </>\n  )\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"MoviesList_container__0JGj2\",\"list\":\"MoviesList_list__0Owr9\",\"link\":\"MoviesList_link__8rTGX\",\"listItem\":\"MoviesList_listItem__LULLo\"};","import { NavLink, useLocation } from \"react-router-dom\";\nimport { MovieListItem } from \"components/MovieListItem/MovieListItem\";\nimport css from \"./MoviesList.module.css\"\n\nexport const MoviesList = ({ moviesList, page }) => {\n  const location = useLocation();\n  \n  return (\n    <div className={css.container}>\n      <ul className={css.list}>\n      {moviesList.map(movieItem =>\n        <li className={css.listItem} key={movieItem.id}>\n          {page ===\"/movies\" && (\n            <NavLink className={css.link} to={`${movieItem.id}`} state = {{from: location}}>\n              <MovieListItem movieData={movieItem}/>\n            </NavLink>\n          )}\n          {page === \"/\" && (\n            <NavLink className={css.link} to={`/movies/${movieItem.id}`} state = {{from: location}}>\n              <MovieListItem movieData={movieItem}/>\n            </NavLink>\n          )}\n        </li>)}\n    </ul>\n    </div>\n    \n  )\n}","// extracted by mini-css-extract-plugin\nexport default {\"container\":\"RatingStars_container__A2vAx\",\"number\":\"RatingStars_number__6yR8J\",\"votes\":\"RatingStars_votes__KAhEE\"};","import Rating from '@mui/material/Rating';\nimport css from \"./RatingStars.module.css\";\n\nexport const RatingStars = ({ rating, votes }) => {\n  return (\n    <>\n      <div className={css.container}>\n        <Rating name=\"customized-10\" defaultValue={rating} max={10} precision={0.1} readOnly/>\n        <span className={css.number}>{rating.toFixed(1)}</span>\n      </div>\n      {votes && (\n        <span className={css.votes}>({votes})</span>\n      )}\n    </>\n  );\n};","// extracted by mini-css-extract-plugin\nexport default {\"caption\":\"Caption_caption__Fxs5G\"};","import css from \"./Caption.module.css\"\n\nexport const Caption = () => {\n  return <h1 className={css.caption}>Trending today</h1>\n}","import { useLocation } from \"react-router-dom\";\nimport { useEffect, useState } from \"react\";\nimport { ToastContainer, toast } from 'react-toastify';\nimport { Loading } from \"components/Loading/Loading\";\nimport { Caption } from \"components/Caption/Caption\";\nimport { MoviesList } from \"components/MoviesList/MoviesList\";\nimport { Button } from \"components/Button/Button\";\nimport { fetchTrends } from \"api\" \n\nconst Home = () => {\n  const location = useLocation();\n  const [trendsList, setTrendsList] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loadMoreBtn, setLoadMoreBtn] = useState(false);\n   const [loading, setLoading] = useState(false);\n  const [wasShowed, setWasShowed] = useState(false);\n\n  useEffect(() => {\n    async function fetchingTrends() {\n      if (wasShowed) {\n        return;\n      } \n      try {\n        setLoading(true);\n        const fetchedTrends = await fetchTrends(page);\n        setTrendsList(prevState => prevState.concat(fetchedTrends.results));\n        console.log(fetchedTrends.results);\n        setLoading(false);\n        setLoadMoreBtn(true);\n        setWasShowed(true);\n      }\n      catch (error) {\n        toast.error('Oops! Something went wrong!', {\n          position: \"top-center\",\n          theme: \"dark\",\n          hideProgressBar: true,\n        });\n      }\n    }\n    fetchingTrends();\n  }, [page, loadMoreBtn, wasShowed]);\n\n  const loadMore = () => {\n    setWasShowed(false);\n    setPage(prevState => prevState + 1);\n  }\n\n  return (\n    <>\n      <Caption />\n      {loading && (\n        <Loading />\n      )}\n      <MoviesList moviesList={trendsList} page={`${location.pathname}`} />\n      {loadMoreBtn && (\n        <Button onLoadMore={loadMore}/>\n      )}\n      <ToastContainer />\n    </>\n  )\n};\n\nexport default Home;\n"],"names":["axios","KEY","LANGUAGE","fetchTrends","page","response","data","fetchMovieById","movieId","fetchMovieByQuery","movieQuery","fetchCastByMovieId","fetchReviewsByMovieId","Button","onLoadMore","type","onClick","className","css","MovieListItem","movieData","title","imageUrl","poster_path","rating","vote_average","votes","vote_count","src","width","alt","size","RatingStars","MoviesList","moviesList","location","useLocation","map","movieItem","to","id","state","from","Rating","name","defaultValue","max","precision","readOnly","toFixed","Caption","useState","trendsList","setTrendsList","setPage","loadMoreBtn","setLoadMoreBtn","loading","setLoading","wasShowed","setWasShowed","useEffect","fetchedTrends","prevState","concat","results","console","log","toast","position","theme","hideProgressBar","fetchingTrends","Loading","pathname"],"sourceRoot":""}